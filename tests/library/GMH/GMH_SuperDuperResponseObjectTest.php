<?php

require_once dirname(__FILE__) . '/../../../library/GMH/SuperDuperResponseObject.php';

/**
 * Test class for GMH_SuperDuperResponseObject.
 * Generated by PHPUnit on 2012-09-11 at 12:28:33.
 */
class GMH_SuperDuperResponseObjectTest extends PHPUnit_Framework_TestCase {

    /**
     * @var GMH_SuperDuperResponseObject
     */
    protected $object;

    /**
     * Sets up the fixture, for example, opens a network connection.
     * This method is called before a test is executed.
     */
    protected function setUp() {
        $this->object = new GMH_SuperDuperResponseObject;
    }

    public function testGetRoutesByStopTime() {

        $directionId = "0";
        $departureTime = "7:00:00";
        $stopName = "Arrott Transportation Center";

        $stopTime = new GMH_Septa_StopTime();
        $stopTime->setDepartureTime("7:00:00");

        $trip = new GMH_Septa_Trip();
        $trip->addStopTime($stopTime);
        $trip->setDirectionId($directionId);

        $route = new GMH_Septa_Route();
        $route->setRouteShortName("K");
        $route->addTrip($trip);

        $route2 = new GMH_Septa_Route();
        $route2->setRouteShortName("75");
        $route2->addTrip($trip);
        
        $this->object->addRoute($route);
        $this->object->addRoute($route2);
        
        $routes = $this->object->getRoutesByStopTime(
                $departureTime, $stopName, $directionId);

        Zend_Debug::dump($routes);
        
        $this->assertNotNull( $routes );
        $this->assertEquals( 2, count( $routes ) );
        $this->assertEquals( "K", $routes[0]->getRouteShortName() );
        $this->assertEquals( "75", $routes[1]->getRouteShortName() );
    }

}

?>
